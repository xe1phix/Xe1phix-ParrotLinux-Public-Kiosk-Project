# Processes and Services

## 01 - Manual

### 1.1 - Display Services

- **Display running services that has users/root rights**

`$ ps aux`

`$ ps axjf`

`$ ps -ef`

`$ ps aux | grep <username>`

`$ ps -ef | grep <username>`

`$ ps aux | grep root`

`$ ps -ef | grep root`

- View all the running process

`$ ps -A`

- Find docker processes (this might correlate with the id command)

`$ ps aux | grep docker`

`$ ps -ef | grep docker`

- Check running processes with permissions

`$ ps aux | awk '{print $11}' | xargs -r ls -la 2>/dev/null | awk '!x[$0]++'`

- This command will display the running process but contains a nice user interaction

`$ top`

`$ top -n 1`

- Enumerate each services and protocols both TCP/UDP

`$ service --status-all`

`$ cat /etc/service`

### 1.2 - Configuration Files

- **Service configuration files to find any misconfigurations or vulnerable plugins**

`$ cat /proc/self/cmdline`

`$ cat /proc/self/environ`

`$ cat /proc/self/cwd/.env`

`$ cat /etc/apache2/apache2.conf`

`$ cat /etc/my.conf`

`$ cat /etc/httpd/conf/httpd.conf`

`$ cat /opt/lampp/etc/httpd.conf`

`$ cat /etc/syslog.conf`

`$ cat /etc/chttp.conf`

`$ cat /etc/lighttpd.conf`

`$ cat /etc/cups/cupsd.conf`

`$ cat /etc/inetd.conf`

`$ ls -aRl /etc/ | awk '$1 ~ /^.*r.*/`

- **Users that are able to alter configuration files in `/etc`**

Note: `2>/dev/null` ignores the error messages to make it easier search the results you're looking for.

1. **Anyone**

`$ ls -aRl /etc/ | awk '$1 ~ /^.*w.*/' 2>/dev/null`

2. **Owner**

`$ ls -aRl /etc/ | awk '$1 ~ /^..w/' 2>/dev/null`

3. **Group**

`$ ls -aRl /etc/ | awk '$1 ~ /^.....w/' 2>/dev/null`

4. **Other**

`$ ls -aRl /etc/ | awk ';$1 ~ /w.$/' 2>/dev/null`

5. **Anyone**

`$ find /etc/ -readable -type f 2>/dev/null`

6. **Anyone**

`$ find /etc/ -readable -type f -maxdepth 1 2>/dev/null`

## 02 - Metasploit

- View all the running process

`meterpreter > ps`